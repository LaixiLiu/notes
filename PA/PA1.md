## 单元测试

---
## BNF
BNF（巴科斯-诺尔范式，Backus-Naur Form）是一种用于描述上下文无关文法的符号表示法，常用于定义编程语言的语法。它是通过递归地定义规则来表示语言的语法结构。BNF范式通过规则的集合定义语言的语法，这些规则明确了如何从一组终结符和非终结符生成合法的语句或表达式。

BNF定义了一组规则，每条规则包含两部分：

1. **左侧（非终结符）**：用尖括号包围的符号（例如 `<expr>`），表示语法结构。它可以由其他非终结符或终结符组成。
2. **右侧（表达式）**：表示该非终结符可以扩展为的符号串，可能包括终结符和其他非终结符。

### BNF语法规则

BNF的语法规则由四部分组成：

- **非终结符**：用尖括号包围的标识符，代表语法中的一种结构（例如 `<expr>`）。
    
- **终结符**：语言中不可再分的基本符号（如具体的字母、数字、运算符等）。
    
- **派生规则**：定义非终结符如何展开。通常表示为：
    ```bash
	<非终结符> ::= <表达式>
	```

	其中，`::=` 表示"定义为"，后面跟着的是可以替代左侧非终结符的符号或非终结符的组合。
    
- **运算符**：
    
    - `|`：表示“或”，提供多个可选项。
    - `::=`：定义符号，用于将一个非终结符定义为右边的表达式。
    - `<...>`：尖括号包围的部分代表非终结符。

### BNF规则示例

下面是一个描述简单算术表达式的BNF例子：
```bash
<expr> ::= <term> | <expr> "+" <term> | <expr> "-" <term>
<term> ::= <factor> | <term> "*" <factor> | <term> "/" <factor>
<factor> ::= <number> | "(" <expr> ")"
<number> ::= "0" | "1" | "2" | ... | "9"
```
这表示：

- `<expr>` 是一个表达式，它可以是一个 `<term>`，或者是两个 `<term>` 通过加号或减号连接而成的表达式。
- `<term>` 是一个项，它可以是一个 `<factor>`，或者通过乘号或除号连接的若干 `<factor>`。
- `<factor>` 可以是一个数字或是括号中的一个表达式。
- `<number>` 是一个数字，可以是 0 到 9 之间的一个数字。

### 使用BNF

BNF的用途主要是定义编程语言的语法结构。例如，编译器可以通过BNF规则解析源代码并生成语法树。具体使用步骤：

1. **定义语法**：首先定义语言的语法规则，确定非终结符、终结符及其组合。
2. **派生生成句子**：从开始符号（通常是 `<start>` 或 `<program>`），根据规则逐步展开，生成合法的语句。
3. **解析和编译**：编译器或解析器使用这些规则来解析输入代码，检测语法是否正确，并生成中间表示或目标代码。
### 扩展BNF（EBNF）

BNF有一种扩展形式，称为扩展BNF（EBNF，Extended Backus-Naur Form），它添加了一些额外的符号以使表达能力更强、更简洁。例如：

- `[...]` 表示可选项（即零次或一次出现）。
- `{...}` 表示可以重复零次或多次的元素。

举例：
```bash
<expr> ::= <term> {("+" | "-") <term>} <term> ::= <factor> {("*" | "/") <factor>}
```
这种表示法比纯BNF更加紧凑，简化了递归结构。

