# RV32I
## 寄存器
`RV32I`有32个寄存器(`x0`-`x31`)，其中，寄存器`x0`被硬布线为0，通用寄存器`x1`-`x31`保存各种值，这些值被各种指令解释为布尔值的集合、二进制有符号整数、或者无符号整数的二进制补码。
> `x0`寄存器的值始终为0，主要有两点好处：
> 1. 常量0： 0是最常用的常量之一，因此将其分配给一个寄存器可以更高效地表示常数0；
> 2. 结果丢弃： 写入`x0`寄存器的内容会被丢弃，类似于Linux下的/dev/null与/dev/zero的结合体

## 基础指令格式
`RV32I`有四种核心指令格式，分别为R/I/S/U。这三种指令均为32位固定长度，指令必须在内存中对齐到四字节的边界(基础ISA有`IALIGN` = 32)，如果指令未按`IALIGN`对齐，则会生成一个指令地址未对齐的异常。

在所有格式中，`RISC-V ISA`在相同的位置保存源寄存器(`rs1`与`rs2`)和目的寄存器(`rd`)。除`CSR`指令外，立即数总是符号扩展的，并且一般位于指令的高位，所有立即数的符号为总是位于指令的31位。

此外，还有两种指令格式B/J,它们分别是S/U型指令的变体。

RISC-V基础指令格式：
![](attachments/Pasted%20image%2020240828120917.png)
不同格式指令的操作如下：

| 指令格式 | 用途              |
| ---- | --------------- |
| R    | 寄存器间的操作         |
| I    | 短立即数与取数(load)操作 |
| S    | 存数(store)操作     |
| U    | 长立即数            |
| B    | 条件分支            |
| J    | 无条件跳转           |
各个基础指令所产生的立即数类型：
![](attachments/Pasted%20image%2020240828123447.png)
## 整数运算指令
根据整数运算的算子不同(立即数或寄存器)，整数运算指令会被编码为两种类型：
1. 使用I类型格式的寄存器-立即数操作；
2. 使用R类型的寄存器-寄存器操作。

无论是那种类型的指令，目的寄存器都是`rd`。
整数运算指令不会引发算术异常，如果要进行溢出检查，可以利用分支指令(这点与IA32中利用标志寄存器判断是否溢出有区别)。
### 整数寄存器 - 立即数 指令
